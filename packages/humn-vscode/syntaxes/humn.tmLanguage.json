{
  "scopeName": "source.humn",
  "patterns": [
    { "include": "#script-block" },
    { "include": "#style-block" },
    { "include": "#template-content" }
  ],
  "repository": {
    "script-block": {
      "begin": "(<)(script)\\b([^>]*)(>)",
      "beginCaptures": {
        "1": { "name": "punctuation.definition.tag.html" },
        "2": { "name": "entity.name.tag.html" },
        "3": { "name": "text.html" },
        "4": { "name": "punctuation.definition.tag.html" }
      },
      "end": "(</)(script)(>)",
      "endCaptures": {
        "1": { "name": "punctuation.definition.tag.html" },
        "2": { "name": "entity.name.tag.html" },
        "3": { "name": "punctuation.definition.tag.html" }
      },
      "contentName": "source.tsx",
      "patterns": [
        {
          "match": "([a-zA-Z_$][a-zA-Z0-9_$]*)(?=\\s*[,}])",
          "name": "variable.other.readwrite.js"
        },
        { "include": "source.tsx" }
      ]
    },
    "style-block": {
      "begin": "(<)(style)\\b([^>]*)(>)",
      "beginCaptures": {
        "1": { "name": "punctuation.definition.tag.html" },
        "2": { "name": "entity.name.tag.html" },
        "3": { "name": "text.html" },
        "4": { "name": "punctuation.definition.tag.html" }
      },
      "end": "(</)(style)(>)",
      "endCaptures": {
        "1": { "name": "punctuation.definition.tag.html" },
        "2": { "name": "entity.name.tag.html" },
        "3": { "name": "punctuation.definition.tag.html" }
      },
      "patterns": [{ "include": "#style-content" }]
    },
    "style-content": {
      "patterns": [
        { "include": "#nested-css-rule" },
        { "include": "#css-property" },
        { "include": "source.css.scss" }
      ]
    },
    "nested-css-rule": {
      "begin": "([a-zA-Z][a-zA-Z0-9-]*|\\.[a-zA-Z][a-zA-Z0-9-]*|#[a-zA-Z][a-zA-Z0-9-]*)\\s*(\\{)",
      "beginCaptures": {
        "1": { "name": "entity.name.tag.css" },
        "2": { "name": "punctuation.section.property-list.begin.css" }
      },
      "end": "\\}",
      "endCaptures": {
        "0": { "name": "punctuation.section.property-list.end.css" }
      },
      "patterns": [
        { "include": "#nested-css-rule" },
        { "include": "#css-property" }
      ]
    },
    "css-property": {
      "begin": "([a-zA-Z-]+)\\s*(:)",
      "beginCaptures": {
        "1": { "name": "support.type.property-name.css" },
        "2": { "name": "punctuation.separator.key-value.css" }
      },
      "end": "(;)|(?=\\})",
      "endCaptures": {
        "1": { "name": "punctuation.terminator.rule.css" }
      },
      "patterns": [{ "include": "#css-values" }]
    },
    "css-values": {
      "patterns": [
        {
          "match": "#[0-9a-fA-F]{3,8}",
          "name": "constant.other.color.rgb-value.css"
        },
        { "match": "(-?[0-9]+(\\.[0-9]+)?)", "name": "constant.numeric.css" },
        {
          "match": "(px|em|rem|%|vh|vw|s|ms|deg|fr|pt)",
          "name": "keyword.other.unit.css"
        },
        { "include": "#string-double" },
        { "include": "#string-single" },
        { "match": "[a-zA-Z-]+(?=\\()", "name": "support.function.css" },
        {
          "match": "[a-zA-Z][a-zA-Z0-9-]*",
          "name": "support.constant.property-value.css"
        },
        { "match": ",", "name": "punctuation.separator.sequence.css" }
      ]
    },
    "template-content": {
      "patterns": [{ "include": "source.tsx" }]
    },
    "string-double": {
      "begin": "\"",
      "end": "\"",
      "name": "string.quoted.double.humn",
      "patterns": [
        { "match": "\\\\.", "name": "constant.character.escape.humn" }
      ]
    },
    "string-single": {
      "begin": "'",
      "end": "'",
      "name": "string.quoted.single.humn",
      "patterns": [
        { "match": "\\\\.", "name": "constant.character.escape.humn" }
      ]
    }
  }
}
